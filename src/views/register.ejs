<%- include('partials/header') %>

<section class="registrationPage">
    <div class="container box">
      <form action="/register" id="form" method="POST">
        <h2>Join Warrior Gains!</h2>

        <div class="form-control">
            <label for="">First Name</label>
            <input type="text" name="fname" placeholder="First Name" />
            <small>Error Message</small>

            <label for="">Last Name</label>
            <input type="text" name="lname" placeholder="Last Name" />
            <small>Error Message</small>

            <label for="">Email</label>
            <input type="email" name="username" placeholder="Enter Email" />
            <small>Error Message</small>

            <label for="">Password</label>
            <input type="password" id="password" name="password" placeholder="Enter Password" />
            <small>Error Message</small>

            <label for="">Date of Birth</label>
            <input type="date" name="dob" placeholder="Enter Date of Birth" />
            <small>Error Message</small>

          <!-- Eye Icon -->
          <span class="show-pass">
            <i class="fas fa-eye" id="eye"></i>
          </span>

          <!-- Progress Bar -->
          <div class="progress">
            <div class="progress-bar" id="password-strength"></div>
          </div>

          <!-- List -->
          <ul class="form-list">
            <li>
              <span class="low-upper-case">
                <i class="fas fa-circle"></i>
                &nbsp; Lowercase & Uppercase
              </span>
            </li>
            <li>
              <span class="number">
                <i class="fas fa-circle"></i>
                &nbsp; Number (0-9)
              </span>
            </li>
            <li>
              <span class="special-char">
                <i class="fas fa-circle"></i>
                &nbsp; Special Character (!@#$%^&*)
              </span>
            </li>
            <li>
              <span class="eight-char">
                <i class="fas fa-circle"></i>
                &nbsp; At least 8 Character
              </span>
            </li>
          </ul>
        </div>

        <button>Submit</button>
      </form>
    </div>
  </section>
  <!--<script src="script.js"></script>-->
  <style>
      @import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap");


      /*This contains styling for text font for the form*/
      body {
        font-family: "Open Sans", sans-serif;
      }


      /*This contains styling for general colors to be used*/
      :root {
      --white:white;
      --black: #1c2b2d;
      --blue: #31326f;
      --light-blue: #005490;
      --color-primary: #9d0191;
      --color-sec: forestgreen;
      --grey: gainsboro; 
      --dark-grey: #222831;
      }


      /*This is unversal selector styling to put everything in a box*/
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }


      /*This defines font size*/
      html {
        font-size: 10px;
      }


      /*This contains paragraph spacing*/
      p {
        font-size: 1.6rem;
        line-height: 1.5;
      }

      /*This contains styling for images*/
      img {
        width: 100%;
      }

      /*This contains styles for container*/
      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /*This contains tyles for registration page*/
      .registrationPage {
        height: 100vh;
        background-color: var(--grey);
        display: flex;
        justify-content: center;
        align-items: center;
      }


      /*This contains styles for box class*/
      .box {
        background-color: var(--white);
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        width: 40rem;
      }

      /*This contains styles for form*/
      form {
        padding: 2rem;
      }


      /*This contains styles for form h2*/
      form h2 {
        font-size: 2.5rem;
        text-align: center;
        margin-bottom: 2rem;
      }


      /*This contains styles for form-control class*/
      .form-control {
        margin-bottom: 1rem;
        padding-bottom: 1.5rem;
        position: relative;
      }


      /*This contains styles for form-control label*/
      .form-control label {
        display: block;
        margin-bottom: 5px;
        color: #777;
      }


      /*This contains styles for form-control input box*/
      .form-control input {
        display: block;
        border: 2px solid var(--grey);
        border-radius: 3px;
        width: 100%;
        padding: 1rem;
        font-size: 1.4rem; 
      }


      /*This contains styles for for-control focusing*/
      .form-control input:focus {
        border-color: rgba(0, 0, 0, 0.2);
      }

      .form-control.success input {
        border-color: green;
      }
      .form-control.error input {
        border-color: red;
      }


      /*This contains further styles for form-control text*/
      .form-control small {
        color: red;
        position: absolute;
        bottom: 0;
        left: 0;
        visibility: hidden;
      }

      /*This contains styles for form-control small icons and text*/
      .form-control.error small {
        visibility: visible;
      }


      /*This contains styles for form button*/
      form button {
        width: 100%;
        background-color: var(--color-sec);
        border: none;
        outline: none;
        color: var(--white);
        padding: 1rem;
        font-size: 1.6rem;
        margin-top: 1rem;
        border-radius: 3px;
        cursor: pointer;
      }

      /*This contains style for eye icon*/
      .show-pass {
        position: absolute;
        top: 50%;
        right: 5%;
      }

      /*This contains styles for eye icon*/
      .fa-eye {
        color: var(--blue);
        cursor: pointer;  
      }


      /*This contains styles for password progress bar*/
      .progress {
        width: 100%;
        height: 3px;
        margin: 2rem 0;
        background-color: var(--grey);
      }


      /*This contains further styles for password progress bar*/
      .progress-bar {
        width: 5%;
        height: 3px;
        background-color: #777;
        transition: all 0.3s ease;
      }


      /*This contains styles for form-list*/
      .form-list {
        list-style-type: none;
      }

      .pb-danger {
        background-color: red;
      }
      .pb-warning {
        background-color: yellow;
      }
      .pb-primary {
        background-color: var(--light-blue);
      }
      .pb-success {
        background-color: green;
      }


      /*This contains styles for form circle*/
      .fa-circle {
        font-size: 6px;
      }

      .fa-check {
        color: #02b502; 
      }

  </style>

  <script>
    let state,
    password = document.getElementById("password"),
    passwordStrength = document.getElementById("password-strength"),
    lowUpperCase = document.querySelector(".low-upper-case i"),
    number = document.querySelector(".number i"),
    specialChar = document.querySelector(".special-char i"),
    eightChar = document.querySelector(".eight-char i"),
    showPassword = document.querySelector(".show-pass"),
    eyeIcon = document.querySelector("#eye");

    showPassword.addEventListener("click", toggle);
    eyeIcon.addEventListener("click", toggleEye);
    password.addEventListener("keyup", () => {
      let pass = password.value;
      checkStrength(pass);
    });

    // Toggle password visibility
    function toggle() {
      if (state) {
        password.setAttribute("type", "password");
        state = false;
      } else {
        password.setAttribute("type", "text");
        state = true;
      }
    }

    // Toggle icon in password field
    function toggleEye() {
      eyeIcon.classList.toggle("fa-eye-slash");
    }

    // Check Password Strength
    function checkStrength(password) {
      let strength = 0;

      // check Lower and Uppercase
      if (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)) {
        strength += 1;
        addCheck(lowUpperCase);
      } else {
        removeCheck(lowUpperCase);
      }
      // Check For Numbers
      if (password.match(/([0-9])/)) {
        strength += 1;
        addCheck(number);
      } else {
        removeCheck(number);
      }
      // Check For Special char
      if (password.match(/([!,%,&,@,#,$,^,*,?,_,~])/)) {
        strength += 1;
        addCheck(specialChar);
      } else {
        removeCheck(specialChar);
      }
      // Check if password is > 7
      if (password.length > 7) {
        strength += 1;
        addCheck(eightChar);
      } else {
        removeCheck(eightChar);
      }
      
      // Update progress bar
      if (strength == 1) {
        removePassStrength();
        passwordStrength.classList.add("pb-danger");
        passwordStrength.style = "width: 25%";
      } else if (strength == 2) {
        removePassStrength();
        passwordStrength.classList.add("pb-warning");
        passwordStrength.style = "width: 50%";
      } else if (strength == 3) {
        removePassStrength();
        passwordStrength.classList.add("pb-primary");
        passwordStrength.style = "width: 75%";
      } else if (strength == 4) {
        removePassStrength();
        passwordStrength.classList.add("pb-success");
        passwordStrength.style = "width: 100%";
      }
    }

    // Remove password strength classes
    function removePassStrength() {
      passwordStrength.classList.remove(
        "pb-danger",
        "pb-warning",
        "pb-primary",
        "pb-success"
      );
    }

    // Add Check Icon
    function addCheck(charRequired) {
      charRequired.classList.remove("fa-circle");
      charRequired.classList.add("fa-check");
    }
    // Remove Check Icon
    function removeCheck(charRequired) {
      charRequired.classList.remove("fa-check");
      charRequired.classList.add("fa-circle");
    }
  </script>
    
<%- include('partials/header') %>

    